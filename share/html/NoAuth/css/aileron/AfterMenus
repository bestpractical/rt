<script type="text/javascript">
var initMenus = function() {
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();

    var originalOffset = jQuery("#page-menu").offset().top;
    var floatMenu      = function () {
        jQuery("#page-menu").toggleClass("pinned", jQuery(document).scrollTop() > originalOffset);
    };
    floatMenu();
    jQuery(window).scroll(floatMenu);
};

// If everything is loaded, init NOW.  Otherwise, defer to DOM ready.
if (jQuery.fn.supersubs && jQuery.fn.superfish && jQuery.fn.supposition)
    initMenus();
else
    jQuery(initMenus);
</script>
